# Домашнее задание к занятию 13 «Введение в мониторинг» - Семикова Т.В. FOPS-9

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?

### Ответ
В данном случае использую подход SRE:
- время отклика
- величина трафика - количество http запросов
- количество ошибок при выполнении http запросов
- степень загруженности CPU и RAM

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?

### Ответ
Для того чтобы привести метрики в понятный вид для менеджеров, необходимо утвердить SLA в рамках которого будут указаны SLO для тех или иных метрик. Менеджерам будет проще ориентироваться в состоянии продукта, так как их будут интересовать только разницы значений SLO и SLI. Если значения SLI той или иной метрики не противоречат установленным для неё SLO тогда проект в норме. Это позволяет менеджеру не знать для чего та или иная метрика, но позволяет им сложить общую картину состояния работоспособности проекта.
Так же можно предложить использовать Grafana, как более удобный визуал мониторинга.

3. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?

### Ответ
Можно организовать хранение логов сроком в 2 недели, к этим логам написать скрипт, который будет вытягивать информацию об ошибках в отдельный лог, и хранить его также ограниченное количество времени - нужно согласовать с разработчиками. Таким образом мы сэкономим ресурсы и будем получать информацию об ошибках.

3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?

### Ответ

Некорректно задана формула, в ней не используются значения кодов 1xx и 3xx.
SLI = (summ_2xx_requests + summ_3xx_requests + summ_1xx_requests)/(summ_all_requests)
